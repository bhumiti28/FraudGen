{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bhumiti\\\\Desktop\\\\BIA662\\\\Fraudgen\\\\fraudgen-client\\\\src\\\\components\\\\LocationMap.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LocationMap({\n  transactions\n}) {\n  _s();\n  const [mapLoaded, setMapLoaded] = useState(false);\n  const leafletMapRef = useRef(null);\n  const markersRef = useRef([]);\n  const mapContainerRef = useRef(null);\n  const leafletScriptRef = useRef(null);\n  const leafletStyleRef = useRef(null);\n  const mapContainerStyles = {\n    height: '400px',\n    width: '100%',\n    borderRadius: '8px',\n    overflow: 'hidden'\n  };\n  const loadingStyles = {\n    height: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#f9f9f9',\n    color: '#3498db',\n    fontSize: '16px'\n  };\n\n  // Initialize the map only once\n  useEffect(() => {\n    // Create a unique ID for the map container to avoid conflicts\n    const mapId = `map-${Math.random().toString(36).substr(2, 9)}`;\n\n    // Set the ID on the container\n    if (mapContainerRef.current) {\n      mapContainerRef.current.id = mapId;\n    }\n\n    // Clean up function to remove any previously loaded scripts/styles\n    const cleanup = () => {\n      if (leafletMapRef.current) {\n        leafletMapRef.current.remove();\n        leafletMapRef.current = null;\n      }\n\n      // Remove markers\n      if (markersRef.current.length > 0) {\n        markersRef.current.forEach(marker => {\n          if (marker && marker.remove) {\n            marker.remove();\n          }\n        });\n        markersRef.current = [];\n      }\n\n      // Remove Leaflet script if it exists\n      if (leafletScriptRef.current && document.body.contains(leafletScriptRef.current)) {\n        document.body.removeChild(leafletScriptRef.current);\n        leafletScriptRef.current = null;\n      }\n\n      // Remove Leaflet style if it exists\n      if (leafletStyleRef.current && document.head.contains(leafletStyleRef.current)) {\n        document.head.removeChild(leafletStyleRef.current);\n        leafletStyleRef.current = null;\n      }\n    };\n\n    // Only load the map if not already loaded\n    if (!mapLoaded && !leafletMapRef.current) {\n      // Clean up any previous instances\n      cleanup();\n\n      // Dynamically load Leaflet CSS\n      const linkElement = document.createElement('link');\n      linkElement.rel = 'stylesheet';\n      linkElement.href = 'https://unpkg.com/leaflet@1.7.1/dist/leaflet.css';\n      document.head.appendChild(linkElement);\n      leafletStyleRef.current = linkElement;\n\n      // Dynamically load Leaflet JS\n      const script = document.createElement('script');\n      script.src = 'https://unpkg.com/leaflet@1.7.1/dist/leaflet.js';\n      script.integrity = 'sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==';\n      script.crossOrigin = '';\n      script.onload = () => {\n        // Initialize map after Leaflet is loaded\n        if (window.L && mapContainerRef.current) {\n          // Create map instance\n          const map = window.L.map(mapId).setView([40.7282, -74.0776], 2);\n\n          // Add tile layer\n          window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n            attribution: '© OpenStreetMap contributors'\n          }).addTo(map);\n          leafletMapRef.current = map;\n          setMapLoaded(true);\n        }\n      };\n      document.body.appendChild(script);\n      leafletScriptRef.current = script;\n    }\n\n    // Clean up on component unmount\n    return cleanup;\n  }, []);\n\n  // Update markers when transactions change\n  useEffect(() => {\n    if (mapLoaded && leafletMapRef.current && transactions && window.L) {\n      // Remove existing markers\n      markersRef.current.forEach(marker => {\n        if (marker && marker.remove) {\n          marker.remove();\n        }\n      });\n      markersRef.current = [];\n\n      // Create new markers\n      const newMarkers = [];\n      const validLocations = [];\n      transactions.forEach(tx => {\n        if (tx.location_data && tx.location_data.latitude && tx.location_data.longitude) {\n          try {\n            var _tx$transaction_data;\n            // Convert latitude/longitude to numbers to avoid errors\n            const lat = parseFloat(tx.location_data.latitude);\n            const lng = parseFloat(tx.location_data.longitude);\n\n            // Skip if invalid coordinates\n            if (isNaN(lat) || isNaN(lng)) return;\n\n            // Skip if coordinates are out of range\n            if (lat < -90 || lat > 90 || lng < -180 || lng > 180) return;\n\n            // Add to valid locations for bounds\n            validLocations.push([lat, lng]);\n\n            // Determine marker color based on transaction risk\n            const markerColor = tx.prediction && tx.prediction.includes('FRAUD') ? 'red' : tx.prediction && tx.prediction.includes('HIGH_RISK') ? 'orange' : tx.prediction && tx.prediction.includes('NEEDS_REVIEW') ? 'yellow' : 'green';\n\n            // Create custom marker icon\n            const markerIcon = window.L.divIcon({\n              className: 'custom-marker',\n              html: `<div style=\"width: 16px; height: 16px; border-radius: 50%; background-color: ${markerColor}; border: 2px solid white;\"></div>`,\n              iconSize: [20, 20],\n              iconAnchor: [10, 10]\n            });\n\n            // Create marker\n            const marker = window.L.marker([lat, lng], {\n              icon: markerIcon\n            }).addTo(leafletMapRef.current);\n\n            // Format amount safely\n            const amount = tx.transaction_data && tx.transaction_data.amount && typeof tx.transaction_data.amount === 'number' ? tx.transaction_data.amount.toLocaleString() : '0';\n\n            // Add popup with transaction details\n            marker.bindPopup(`\n              <div style=\"min-width: 200px;\">\n                <h3 style=\"margin: 0 0 5px 0;\">${tx.prediction || 'Unknown'}</h3>\n                <p style=\"margin: 0 0 3px 0;\"><strong>Amount:</strong> $${amount}</p>\n                <p style=\"margin: 0 0 3px 0;\"><strong>Type:</strong> ${((_tx$transaction_data = tx.transaction_data) === null || _tx$transaction_data === void 0 ? void 0 : _tx$transaction_data.type) || 'Unknown'}</p>\n                <p style=\"margin: 0 0 3px 0;\"><strong>Location:</strong> ${tx.location_data.city || 'Unknown'}, ${tx.location_data.region || 'Unknown'}, ${tx.location_data.country || 'Unknown'}</p>\n                ${tx.location_data.is_vpn || tx.location_data.is_proxy ? '<p style=\"margin: 0; color: #e74c3c;\"><strong>VPN/Proxy detected</strong></p>' : ''}\n              </div>\n            `);\n            newMarkers.push(marker);\n          } catch (err) {\n            console.error(\"Error creating marker:\", err);\n          }\n        }\n      });\n      markersRef.current = newMarkers;\n\n      // Adjust map view to fit markers if there are any\n      if (validLocations.length > 0) {\n        try {\n          // Check if we have at least 2 distinct locations\n          const uniqueLocations = new Set(validLocations.map(loc => `${loc[0]},${loc[1]}`));\n          if (uniqueLocations.size >= 2) {\n            // Multiple distinct locations, create bounds\n            const bounds = window.L.latLngBounds(validLocations);\n            leafletMapRef.current.fitBounds(bounds, {\n              padding: [50, 50]\n            });\n          } else {\n            // Only one location, just center on it\n            const center = validLocations[0];\n            leafletMapRef.current.setView(center, 12);\n          }\n        } catch (err) {\n          console.error(\"Error adjusting map view:\", err);\n\n          // Fallback to default view if bounds fails\n          leafletMapRef.current.setView([40.7282, -74.0776], 2);\n        }\n      }\n    }\n  }, [mapLoaded, transactions]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: mapContainerRef,\n    style: mapContainerStyles,\n    children: !mapLoaded && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: loadingStyles,\n      children: \"Loading map...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 213,\n    columnNumber: 5\n  }, this);\n}\n_s(LocationMap, \"2EBmWzGVHWj6fDNEMD8I8X0/hbE=\");\n_c = LocationMap;\nexport default LocationMap;\nvar _c;\n$RefreshReg$(_c, \"LocationMap\");","map":{"version":3,"names":["React","useEffect","useState","useRef","jsxDEV","_jsxDEV","LocationMap","transactions","_s","mapLoaded","setMapLoaded","leafletMapRef","markersRef","mapContainerRef","leafletScriptRef","leafletStyleRef","mapContainerStyles","height","width","borderRadius","overflow","loadingStyles","display","justifyContent","alignItems","backgroundColor","color","fontSize","mapId","Math","random","toString","substr","current","id","cleanup","remove","length","forEach","marker","document","body","contains","removeChild","head","linkElement","createElement","rel","href","appendChild","script","src","integrity","crossOrigin","onload","window","L","map","setView","tileLayer","attribution","addTo","newMarkers","validLocations","tx","location_data","latitude","longitude","_tx$transaction_data","lat","parseFloat","lng","isNaN","push","markerColor","prediction","includes","markerIcon","divIcon","className","html","iconSize","iconAnchor","icon","amount","transaction_data","toLocaleString","bindPopup","type","city","region","country","is_vpn","is_proxy","err","console","error","uniqueLocations","Set","loc","size","bounds","latLngBounds","fitBounds","padding","center","ref","style","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Bhumiti/Desktop/BIA662/Fraudgen/fraudgen-client/src/components/LocationMap.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\n\r\nfunction LocationMap({ transactions }) {\r\n  const [mapLoaded, setMapLoaded] = useState(false);\r\n  const leafletMapRef = useRef(null);\r\n  const markersRef = useRef([]);\r\n  const mapContainerRef = useRef(null);\r\n  const leafletScriptRef = useRef(null);\r\n  const leafletStyleRef = useRef(null);\r\n\r\n  const mapContainerStyles = {\r\n    height: '400px',\r\n    width: '100%',\r\n    borderRadius: '8px',\r\n    overflow: 'hidden'\r\n  };\r\n\r\n  const loadingStyles = {\r\n    height: '100%',\r\n    display: 'flex', \r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    backgroundColor: '#f9f9f9',\r\n    color: '#3498db',\r\n    fontSize: '16px'\r\n  };\r\n\r\n  // Initialize the map only once\r\n  useEffect(() => {\r\n    // Create a unique ID for the map container to avoid conflicts\r\n    const mapId = `map-${Math.random().toString(36).substr(2, 9)}`;\r\n    \r\n    // Set the ID on the container\r\n    if (mapContainerRef.current) {\r\n      mapContainerRef.current.id = mapId;\r\n    }\r\n\r\n    // Clean up function to remove any previously loaded scripts/styles\r\n    const cleanup = () => {\r\n      if (leafletMapRef.current) {\r\n        leafletMapRef.current.remove();\r\n        leafletMapRef.current = null;\r\n      }\r\n      \r\n      // Remove markers\r\n      if (markersRef.current.length > 0) {\r\n        markersRef.current.forEach(marker => {\r\n          if (marker && marker.remove) {\r\n            marker.remove();\r\n          }\r\n        });\r\n        markersRef.current = [];\r\n      }\r\n      \r\n      // Remove Leaflet script if it exists\r\n      if (leafletScriptRef.current && document.body.contains(leafletScriptRef.current)) {\r\n        document.body.removeChild(leafletScriptRef.current);\r\n        leafletScriptRef.current = null;\r\n      }\r\n      \r\n      // Remove Leaflet style if it exists\r\n      if (leafletStyleRef.current && document.head.contains(leafletStyleRef.current)) {\r\n        document.head.removeChild(leafletStyleRef.current);\r\n        leafletStyleRef.current = null;\r\n      }\r\n    };\r\n\r\n    // Only load the map if not already loaded\r\n    if (!mapLoaded && !leafletMapRef.current) {\r\n      // Clean up any previous instances\r\n      cleanup();\r\n      \r\n      // Dynamically load Leaflet CSS\r\n      const linkElement = document.createElement('link');\r\n      linkElement.rel = 'stylesheet';\r\n      linkElement.href = 'https://unpkg.com/leaflet@1.7.1/dist/leaflet.css';\r\n      document.head.appendChild(linkElement);\r\n      leafletStyleRef.current = linkElement;\r\n\r\n      // Dynamically load Leaflet JS\r\n      const script = document.createElement('script');\r\n      script.src = 'https://unpkg.com/leaflet@1.7.1/dist/leaflet.js';\r\n      script.integrity = 'sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==';\r\n      script.crossOrigin = '';\r\n      \r\n      script.onload = () => {\r\n        // Initialize map after Leaflet is loaded\r\n        if (window.L && mapContainerRef.current) {\r\n          // Create map instance\r\n          const map = window.L.map(mapId).setView([40.7282, -74.0776], 2);\r\n          \r\n          // Add tile layer\r\n          window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n            attribution: '© OpenStreetMap contributors'\r\n          }).addTo(map);\r\n          \r\n          leafletMapRef.current = map;\r\n          setMapLoaded(true);\r\n        }\r\n      };\r\n      \r\n      document.body.appendChild(script);\r\n      leafletScriptRef.current = script;\r\n    }\r\n\r\n    // Clean up on component unmount\r\n    return cleanup;\r\n  }, []);\r\n  \r\n  // Update markers when transactions change\r\n  useEffect(() => {\r\n    if (mapLoaded && leafletMapRef.current && transactions && window.L) {\r\n      // Remove existing markers\r\n      markersRef.current.forEach(marker => {\r\n        if (marker && marker.remove) {\r\n          marker.remove();\r\n        }\r\n      });\r\n      markersRef.current = [];\r\n      \r\n      // Create new markers\r\n      const newMarkers = [];\r\n      const validLocations = [];\r\n      \r\n      transactions.forEach(tx => {\r\n        if (tx.location_data && tx.location_data.latitude && tx.location_data.longitude) {\r\n          try {\r\n            // Convert latitude/longitude to numbers to avoid errors\r\n            const lat = parseFloat(tx.location_data.latitude);\r\n            const lng = parseFloat(tx.location_data.longitude);\r\n            \r\n            // Skip if invalid coordinates\r\n            if (isNaN(lat) || isNaN(lng)) return;\r\n            \r\n            // Skip if coordinates are out of range\r\n            if (lat < -90 || lat > 90 || lng < -180 || lng > 180) return;\r\n            \r\n            // Add to valid locations for bounds\r\n            validLocations.push([lat, lng]);\r\n            \r\n            // Determine marker color based on transaction risk\r\n            const markerColor = tx.prediction && tx.prediction.includes('FRAUD') ? 'red' : \r\n                              tx.prediction && tx.prediction.includes('HIGH_RISK') ? 'orange' : \r\n                              tx.prediction && tx.prediction.includes('NEEDS_REVIEW') ? 'yellow' : \r\n                              'green';\r\n            \r\n            // Create custom marker icon\r\n            const markerIcon = window.L.divIcon({\r\n              className: 'custom-marker',\r\n              html: `<div style=\"width: 16px; height: 16px; border-radius: 50%; background-color: ${markerColor}; border: 2px solid white;\"></div>`,\r\n              iconSize: [20, 20],\r\n              iconAnchor: [10, 10]\r\n            });\r\n            \r\n            // Create marker\r\n            const marker = window.L.marker(\r\n              [lat, lng], \r\n              { icon: markerIcon }\r\n            ).addTo(leafletMapRef.current);\r\n            \r\n            // Format amount safely\r\n            const amount = tx.transaction_data && tx.transaction_data.amount && \r\n                          typeof tx.transaction_data.amount === 'number' ? \r\n                          tx.transaction_data.amount.toLocaleString() : '0';\r\n            \r\n            // Add popup with transaction details\r\n            marker.bindPopup(`\r\n              <div style=\"min-width: 200px;\">\r\n                <h3 style=\"margin: 0 0 5px 0;\">${tx.prediction || 'Unknown'}</h3>\r\n                <p style=\"margin: 0 0 3px 0;\"><strong>Amount:</strong> $${amount}</p>\r\n                <p style=\"margin: 0 0 3px 0;\"><strong>Type:</strong> ${tx.transaction_data?.type || 'Unknown'}</p>\r\n                <p style=\"margin: 0 0 3px 0;\"><strong>Location:</strong> ${tx.location_data.city || 'Unknown'}, ${tx.location_data.region || 'Unknown'}, ${tx.location_data.country || 'Unknown'}</p>\r\n                ${tx.location_data.is_vpn || tx.location_data.is_proxy ? \r\n                  '<p style=\"margin: 0; color: #e74c3c;\"><strong>VPN/Proxy detected</strong></p>' : ''}\r\n              </div>\r\n            `);\r\n            \r\n            newMarkers.push(marker);\r\n          } catch (err) {\r\n            console.error(\"Error creating marker:\", err);\r\n          }\r\n        }\r\n      });\r\n      \r\n      markersRef.current = newMarkers;\r\n      \r\n      // Adjust map view to fit markers if there are any\r\n      if (validLocations.length > 0) {\r\n        try {\r\n          // Check if we have at least 2 distinct locations\r\n          const uniqueLocations = new Set(validLocations.map(loc => `${loc[0]},${loc[1]}`));\r\n          \r\n          if (uniqueLocations.size >= 2) {\r\n            // Multiple distinct locations, create bounds\r\n            const bounds = window.L.latLngBounds(validLocations);\r\n            leafletMapRef.current.fitBounds(bounds, { padding: [50, 50] });\r\n          } else {\r\n            // Only one location, just center on it\r\n            const center = validLocations[0];\r\n            leafletMapRef.current.setView(center, 12);\r\n          }\r\n        } catch (err) {\r\n          console.error(\"Error adjusting map view:\", err);\r\n          \r\n          // Fallback to default view if bounds fails\r\n          leafletMapRef.current.setView([40.7282, -74.0776], 2);\r\n        }\r\n      }\r\n    }\r\n  }, [mapLoaded, transactions]);\r\n\r\n  return (\r\n    <div ref={mapContainerRef} style={mapContainerStyles}>\r\n      {!mapLoaded && (\r\n        <div style={loadingStyles}>\r\n          Loading map...\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LocationMap;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}